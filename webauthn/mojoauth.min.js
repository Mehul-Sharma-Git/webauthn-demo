!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MojoAuth=t():e.MojoAuth=t()}(self,(function(){return(()=>{"use strict";var e={144:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(15),r=n.n(o),a=n(645),i=n.n(a)()(r());i.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap);"]),i.push([e.id,".mojoauth--card{box-sizing:border-box;width:400px;margin:0 auto;padding:60px 40px 20px;min-height:520px;font-size:16px;line-height:1.5;color:#1b1c1e}.mojoauth--card .logo{margin-bottom:24px}.mojoauth--card .logo img{max-width:250px;max-height:150px}.mojoauth--card .logo svg{height:150px;width:150px;text-align:center}.mojoauth--card .title{margin-bottom:8px;font-size:24px;line-height:32px;font-weight:700}.mojoauth--card form{margin-top:40px}.mojoauth--card form input[type='email'],.mojoauth--card form input[type='submit']{min-height:44px;border-radius:4px;background-color:#e7e7e7;border:0;margin-bottom:16px}.mojoauth--card form input[type='email']{padding:0 16px;width:100%;box-sizing:border-box}.mojoauth--card form input[type='email']:hover,.mojoauth--card form input[type='email']:focus{outline-color:#5e00cf}.mojoauth--card form input[type='email']:focus{background-color:#fff}.mojoauth--card form input[type='submit']{background-color:#5e00cf;color:#fff;width:100%;margin-bottom:0;cursor:pointer}.mojoauth--card form input[type='submit']:hover,.mojoauth--card form input[type='submit']:focus{outline:0;background-color:#430095}.mojoauth--card form p{color:#757a7e;font-size:14px;margin-top:1rem}.mojoauth-passwordless-footer{text-align:center;margin-top:48px}.mojoauth-passwordless-footer p{display:flex;align-items:center;justify-content:center;font-size:10px;letter-spacing:1px}.mojoauth-passwordless-footer a{text-decoration:none}.mojoauth-passwordless-footer .footer-icon{margin-right:8px}.mojoauth-passwordless-footer .footer-icon svg{height:20px;width:20px}#post-login-message{text-align:center}#post-login-message .warning{color:#ff8c00}#post-login-message .bold{font-weight:bold}.mojoauth--card{background-color:#fff;border-radius:12px}.mojoauth--shadow{box-shadow:0px 0px 12px 4px rgba(0,0,0,0.04)}.mojoauth--v-center{display:flex;flex-direction:column;justify-content:center}.mojoauth--loader,.mojoauth--loader:before,.mojoauth--loader:after{background:#5e00cf;-webkit-animation:load1 1s infinite ease-in-out;animation:load1 1s infinite ease-in-out;width:1em;height:4em}.mojoauth--loader{color:#5e00cf;text-indent:-9999em;margin:88px auto;position:relative;font-size:11px;-webkit-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);-webkit-animation-delay:-0.16s;animation-delay:-0.16s}.mojoauth--loader:before,.mojoauth--loader:after{position:absolute;top:0;content:''}.mojoauth--loader:before{left:-1.5em;-webkit-animation-delay:-0.32s;animation-delay:-0.32s}.mojoauth--loader:after{left:1.5em}@-webkit-keyframes load1{0%,80%,100%{box-shadow:0 0;height:4em}40%{box-shadow:0 -2em;height:5em}}@keyframes load1{0%,80%,100%{box-shadow:0 0;height:4em}40%{box-shadow:0 -2em;height:5em}}#mojoauth-otp-verification p{text-align:center}#mojoauth-otp-verification .error{color:red;font-size:14px;margin:10px 0}#mojoauth-otp-verification input[type='button']{min-height:44px;border:0;border-radius:4px;background-color:#5e00cf;color:#fff;width:100%;margin:16px 0;cursor:pointer}#mojoauth-otp-verification input[type='button']:hover,#mojoauth-otp-verification input[type='button']:focus{outline:0;background-color:#430095}#mojoauth-otp-verification .mojoauth-otp-verification{display:flex;justify-content:space-evenly}#mojoauth-otp-verification .mojoauth-otp-verification .pin_input{max-width:24px;border:none;border-bottom:1px solid black;width:24px;height:24px;margin:4px 0px;text-align:center}#mojoauth-otp-verification .mojoauth-otp-verification .pin_input:hover,#mojoauth-otp-verification .mojoauth-otp-verification .pin_input:focus{border-bottom:1px solid #5e00cf;outline:none}#mojoauth-otp-verification .mojoauth-otp-verification .pin_input:focus{background-color:#fff}\n","",{version:3,sources:["webpack://./src/styles/main.scss","webpack://./src/styles/variables.scss"],names:[],mappings:"AAGA,gBACC,qBAAsB,CACtB,WAAY,CACZ,aAAc,CACd,sBAAuB,CACvB,gBAAiB,CAEjB,cAAe,CACf,eAAgB,CAChB,aAAc,CATf,sBAWE,kBAAmB,CAXrB,0BAaG,eAAgB,CAChB,gBAAiB,CAdpB,0BAiBG,YAAa,CACb,WAAY,CACZ,iBAAkB,CAnBrB,uBAuBE,iBAAkB,CAClB,cAAe,CACf,gBAAiB,CACjB,eAAgB,CA1BlB,qBA6BE,eAAgB,CA7BlB,mFAgCG,eAAgB,CAChB,iBAAkB,CAClB,wBC5BgB,CD6BhB,QAAS,CACT,kBAAmB,CApCtB,yCAuCG,cAAe,CACf,UAAW,CACX,qBAAsB,CAzCzB,8FA4CI,qBC7CY,CDChB,+CA+CI,qBC7CW,CDFf,0CAmDG,wBCpDa,CDqDb,UClDY,CDmDZ,UAAW,CACX,eAAgB,CAChB,cAAe,CAvDlB,gGA0DI,SAAU,CACV,wBC3DiB,CDArB,uBA+DG,aC1DkB,CD2DlB,cAAe,CACf,eAAgB,CAChB,8BAKF,iBAAkB,CAClB,eAAgB,CAFjB,gCAKE,YAAa,CACb,kBAAmB,CACnB,sBAAuB,CACvB,cAAe,CACf,kBAAmB,CATrB,gCAYE,oBAAqB,CAZvB,2CAeE,gBAAiB,CAfnB,+CAiBG,WAAY,CACZ,UAAW,CACX,oBAKF,iBAAkB,CADnB,6BAGE,aCpFuB,CDiFzB,0BAME,gBAAiB,CACjB,gBAID,qBCtGc,CDuGd,kBAAmB,CACnB,kBAEA,4CAAgD,CAChD,oBAEA,YAAa,CACb,qBAAsB,CACtB,sBAAuB,CACvB,mEAKA,kBAAmB,CACnB,+CAAgD,CAChD,uCAAwC,CACxC,SAAU,CACV,UAAW,CACX,kBAEA,aAAc,CACd,mBAAoB,CACpB,gBAAiB,CACjB,iBAAkB,CAClB,cAAe,CACf,+BAAgC,CAChC,2BAA4B,CAC5B,uBAAwB,CACxB,8BAA+B,CAC/B,sBAAuB,CACvB,iDAGA,iBAAkB,CAClB,KAAM,CACN,UAAW,CACX,yBAEA,WAAY,CACZ,8BAA+B,CAC/B,sBAAuB,CACvB,wBAEA,UAAW,CACX,yBAEA,YAGC,cAAe,CACf,UAAW,CAEZ,IACC,iBAAkB,CAClB,UAAW,CAAA,CAGb,iBACC,YAGC,cAAe,CACf,UAAW,CAEZ,IACC,iBAAkB,CAClB,UAAW,CAAA,CAIb,6BAEE,iBAAkB,CAFpB,kCAKE,SAAU,CACV,cAAe,CACf,aAAc,CAPhB,gDAUE,eAAgB,CAChB,QAAS,CACT,iBAAkB,CAClB,wBC9Lc,CD+Ld,UC5La,CD6Lb,UAAW,CACX,aAAc,CACd,cAAe,CAjBjB,4GAoBG,SAAU,CACV,wBCrMkB,CDgLrB,sDAyBE,YAAa,CACb,4BAA6B,CA1B/B,iEA4BG,cAAe,CACf,WAAY,CACZ,6BAA8B,CAC9B,UAAW,CACX,WAAY,CACZ,cAAe,CACf,iBAAkB,CAlCrB,8IAuCI,+BCxNY,CDyNZ,YAAa,CAxCjB,uEA2CI,qBCzNW",sourcesContent:["@import './variables.scss';\n@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');\n\n.mojoauth--card {\n\tbox-sizing: border-box;\n\twidth: 400px;\n\tmargin: 0 auto;\n\tpadding: 60px 40px 20px;\n\tmin-height: 520px;\n\t// font-family: 'Inter', sans-serif;\n\tfont-size: 16px;\n\tline-height: 1.5;\n\tcolor: #1b1c1e;\n\t.logo {\n\t\tmargin-bottom: 24px;\n\t\timg {\n\t\t\tmax-width: 250px;\n\t\t\tmax-height: 150px;\n\t\t}\n\t\tsvg {\n\t\t\theight: 150px;\n\t\t\twidth: 150px;\n\t\t\ttext-align: center;\n\t\t}\n\t}\n\t.title {\n\t\tmargin-bottom: 8px;\n\t\tfont-size: 24px;\n\t\tline-height: 32px;\n\t\tfont-weight: 700;\n\t}\n\tform {\n\t\tmargin-top: 40px;\n\t\tinput[type='email'],\n\t\tinput[type='submit'] {\n\t\t\tmin-height: 44px;\n\t\t\tborder-radius: 4px;\n\t\t\tbackground-color: $gray-dark;\n\t\t\tborder: 0;\n\t\t\tmargin-bottom: 16px;\n\t\t}\n\t\tinput[type='email'] {\n\t\t\tpadding: 0 16px;\n\t\t\twidth: 100%;\n\t\t\tbox-sizing: border-box;\n\t\t\t&:hover,\n\t\t\t&:focus {\n\t\t\t\toutline-color: $purple;\n\t\t\t}\n\t\t\t&:focus {\n\t\t\t\tbackground-color: $white;\n\t\t\t}\n\t\t}\n\t\tinput[type='submit'] {\n\t\t\tbackground-color: $purple;\n\t\t\tcolor: $white;\n\t\t\twidth: 100%;\n\t\t\tmargin-bottom: 0;\n\t\t\tcursor: pointer;\n\t\t\t&:hover,\n\t\t\t&:focus {\n\t\t\t\toutline: 0;\n\t\t\t\tbackground-color: $purple-dark;\n\t\t\t}\n\t\t}\n\t\tp {\n\t\t\tcolor: $gray-medium;\n\t\t\tfont-size: 14px;\n\t\t\tmargin-top: 1rem;\n\t\t}\n\t}\n}\n\n.mojoauth-passwordless-footer {\n\ttext-align: center;\n\tmargin-top: 48px;\n\n\tp {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tfont-size: 10px;\n\t\tletter-spacing: 1px;\n\t}\n\ta {\n\t\ttext-decoration: none;\n\t}\n\t.footer-icon {\n\t\tmargin-right: 8px;\n\t\tsvg {\n\t\t\theight: 20px;\n\t\t\twidth: 20px;\n\t\t}\n\t}\n}\n\n#post-login-message {\n\ttext-align: center;\n\t.warning {\n\t\tcolor: $warning-dark;\n\t}\n\t.bold {\n\t\tfont-weight: bold;\n\t}\n}\n\n.mojoauth--card {\n\tbackground-color: $white;\n\tborder-radius: 12px;\n}\n.mojoauth--shadow {\n\tbox-shadow: 0px 0px 12px 4px rgba(0, 0, 0, 0.04);\n}\n.mojoauth--v-center {\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n}\n\n.mojoauth--loader,\n.mojoauth--loader:before,\n.mojoauth--loader:after {\n\tbackground: #5e00cf;\n\t-webkit-animation: load1 1s infinite ease-in-out;\n\tanimation: load1 1s infinite ease-in-out;\n\twidth: 1em;\n\theight: 4em;\n}\n.mojoauth--loader {\n\tcolor: #5e00cf;\n\ttext-indent: -9999em;\n\tmargin: 88px auto;\n\tposition: relative;\n\tfont-size: 11px;\n\t-webkit-transform: translateZ(0);\n\t-ms-transform: translateZ(0);\n\ttransform: translateZ(0);\n\t-webkit-animation-delay: -0.16s;\n\tanimation-delay: -0.16s;\n}\n.mojoauth--loader:before,\n.mojoauth--loader:after {\n\tposition: absolute;\n\ttop: 0;\n\tcontent: '';\n}\n.mojoauth--loader:before {\n\tleft: -1.5em;\n\t-webkit-animation-delay: -0.32s;\n\tanimation-delay: -0.32s;\n}\n.mojoauth--loader:after {\n\tleft: 1.5em;\n}\n@-webkit-keyframes load1 {\n\t0%,\n\t80%,\n\t100% {\n\t\tbox-shadow: 0 0;\n\t\theight: 4em;\n\t}\n\t40% {\n\t\tbox-shadow: 0 -2em;\n\t\theight: 5em;\n\t}\n}\n@keyframes load1 {\n\t0%,\n\t80%,\n\t100% {\n\t\tbox-shadow: 0 0;\n\t\theight: 4em;\n\t}\n\t40% {\n\t\tbox-shadow: 0 -2em;\n\t\theight: 5em;\n\t}\n}\n\n#mojoauth-otp-verification {\n\tp {\n\t\ttext-align: center;\n\t}\n\t.error {\n\t\tcolor: red;\n\t\tfont-size: 14px;\n\t\tmargin: 10px 0;\n\t}\n\tinput[type='button'] {\n\t\tmin-height: 44px;\n\t\tborder: 0;\n\t\tborder-radius: 4px;\n\t\tbackground-color: $purple;\n\t\tcolor: $white;\n\t\twidth: 100%;\n\t\tmargin: 16px 0;\n\t\tcursor: pointer;\n\t\t&:hover,\n\t\t&:focus {\n\t\t\toutline: 0;\n\t\t\tbackground-color: $purple-dark;\n\t\t}\n\t}\n\t.mojoauth-otp-verification {\n\t\tdisplay: flex;\n\t\tjustify-content: space-evenly;\n\t\t.pin_input {\n\t\t\tmax-width: 24px;\n\t\t\tborder: none;\n\t\t\tborder-bottom: 1px solid black;\n\t\t\twidth: 24px;\n\t\t\theight: 24px;\n\t\t\tmargin: 4px 0px;\n\t\t\ttext-align: center;\n\n\t\t\t// border-radius: 4px;\n\t\t\t&:hover,\n\t\t\t&:focus {\n\t\t\t\tborder-bottom: 1px solid $purple;\n\t\t\t\toutline: none;\n\t\t\t}\n\t\t\t&:focus {\n\t\t\t\tbackground-color: $white;\n\t\t\t}\n\t\t}\n\t}\n}\n","// Brand tones\n$yellow: #ffe100;\n$purple: #5e00cf;\n$purple-dark: #430095;\n$black: #1b1c1e;\n$white: #ffffff;\n\n$gray-light: #f9f9f9;\n$gray-medium: #757a7e;\n$gray-dark: #e7e7e7;\n\n// notification alerts colors\n$success: #39b55a;\n$warning: #f1a321;\n$error: #e61728;\n$warning-dark: darkorange;\n\n// spacing modifier variable.\n$space-none: 0;\n$space-x-sm: 16px;\n$space-sm: 24px;\n$space-md: 48px;\n$space-lg: 96px;\n$space-x-lg: 128px;\n$space-auto: auto;\n\n$p-32: 32px;\n"],sourceRoot:""}]);const l=i},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(r[i]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);o&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},15:e=>{function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}e.exports=function(e){var n,o,r=(o=4,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(o=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw a}}return n}}(n,o)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,n):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[1],i=r[3];if("function"==typeof btoa){var l=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),u="/*# ".concat(c," */"),s=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[a].concat(s).concat([u]).join("\n")}return[a].join("\n")}},545:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var o=n(379),r=n.n(o),a=n(144);r()(a.Z,{insert:"head",singleton:!1});const i=a.Z.locals||{}},379:(e,t,n)=>{var o,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function i(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},o=[],r=0;r<e.length;r++){var l=e[r],c=t.base?l[0]+t.base:l[0],u=n[c]||0,s="".concat(c," ").concat(u);n[c]=u+1;var d=i(s),p={css:l[1],media:l[2],sourceMap:l[3]};-1!==d?(a[d].references++,a[d].updater(p)):a.push({identifier:s,updater:m(p,t),references:1}),o.push(s)}return o}function c(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var a=n.nc;a&&(o.nonce=a)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var i=r(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var u,s=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=s(t,r);else{var a=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function p(e,t,n){var o=n.css,r=n.media,a=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var f=null,h=0;function m(e,t){var n,o,r;if(t.singleton){var a=h++;n=f||(f=c(t)),o=d.bind(null,n,a,!1),r=d.bind(null,n,a,!0)}else n=c(t),o=p.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=i(n[o]);a[r].references--}for(var c=l(e,t),u=0;u<n.length;u++){var s=i(n[u]);0===a[s].references&&(a[s].updater(),a.splice(s,1))}n=c}}}},569:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.invalidateToken=void 0;var o=n(524),r=n(757).getConfig().apiUrl+"/token/invalidate";t.invalidateToken=function(e){var t=this.apikey;return o.request({method:"GET",url:r,headers:{"X-API-Key":t,Authorization:"Bearer "+e}})}},255:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.loginBegin=void 0;var o=n(524),r=n(757).getConfig().apiUrl+"/users/webauthn/login/initialize";t.loginBegin=function(e,t){return o.request({method:"GET",credentials:"include",url:r,queryParams:{email:t},headers:{"X-API-Key":e}})}},438:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.loginComplete=void 0;var o=n(524),r=n(757).getConfig().apiUrl+"/users/webauthn/login/finish";t.loginComplete=function(e,t,n,a,i,l,c,u,s){return o.request({method:"POST",credentials:"include",url:r,queryParams:{email:t},body:{id:n,rawId:a,type:i,response:{authenticatorData:l,clientDataJSON:c,signature:u,userHandle:s}},headers:{"X-API-Key":e}})}},486:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function l(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((o=o.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ping=void 0;var a=n(524),i=n(757).getConfig().apiUrl+"/users/status";t.ping=function e(t,n,l){return o(this,void 0,Promise,(function(){var o;return r(this,(function(r){switch(r.label){case 0:return[4,a.request({method:"GET",url:i,queryParams:{state_id:n},headers:{"X-API-Key":t}})];case 1:return(o=r.sent()).authenticated?l(o):setTimeout((function(){return e(t,n,l)}),5e3),[2]}}))}))}},4:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.postEmail=void 0;var o=n(757),r=n(524),a=o.getConfig().apiUrl+"/users/magiclink";t.postEmail=function(e,t){return r.request({method:"POST",url:a,body:{email:t},headers:{"X-API-Key":e}})}},364:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.postOTPEmail=void 0;var o=n(757),r=n(524),a=o.getConfig().apiUrl+"/users/emailotp";t.postOTPEmail=function(e,t){return r.request({method:"POST",url:a,body:{email:t},headers:{"X-API-Key":e}})}},460:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.registerationBegin=void 0;var o=n(524),r=n(757).getConfig().apiUrl+"/users/webauthn/registration/initialize";t.registerationBegin=function(e,t){return o.request({method:"GET",credentials:"include",url:r,queryParams:{email:t},headers:{"X-API-Key":e}})}},447:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.registerationComplete=void 0;var o=n(524),r=n(757).getConfig().apiUrl+"/users/webauthn/registration/finish";t.registerationComplete=function(e,t,n,a,i,l,c){return o.request({method:"POST",credentials:"include",url:r,queryParams:{email:t},body:{id:n,rawId:a,type:i,response:{attestationObject:l,clientDataJSON:c}},headers:{"X-API-Key":e}})}},901:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.verifyEmailOTP=void 0;var o=n(524),r=n(757).getConfig().apiUrl+"/users/emailotp/verify";t.verifyEmailOTP=function(e,t,n){return o.request({method:"POST",url:r,body:{otp:n,state_id:t},headers:{"X-API-key":e}})}},200:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.verifyToken=void 0;var o=n(524),r=n(757).getConfig().apiUrl+"/token/verify";t.verifyToken=function(e){var t=this.apikey;return o.request({method:"GET",url:r,headers:{"X-API-Key":t,Authorization:"Bearer "+e}})}},695:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.webauthnRegistered=void 0;var o=n(524),r=n(757).getConfig().apiUrl+"/users/webauthn/check";t.webauthnRegistered=function(e,t){return o.request({method:"GET",url:r,queryParams:{email:t},headers:{"X-API-Key":e}})}},757:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getConfig=void 0,t.getConfig=function(){return{apiUrl:"MISSING_ENV_VAR".API_URL||"http://206.189.79.104:2401"}}},258:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Defaults=void 0,t.Defaults={rootContainer:"mojoauth-passwordless-form",loginFormContainer:"mojoauth-login-container",postLoginContainerId:"post-login-message",loginFormId:"mojoauth-login",brandFooterId:"mojoauth-brand-footer",otpVerificationId:"mojoauth-otp-verification"}},546:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addStyles=void 0,t.addStyles=function(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.head.appendChild(t)}},25:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function l(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((o=o.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getProjectConfig=void 0;var a,i=n(524),l=n(757).getConfig().apiUrl+"/projects/branding",c=function(e){return i.request({method:"GET",url:l,headers:{"X-API-Key":e}})};t.getProjectConfig=function(e){return o(this,void 0,Promise,(function(){return r(this,(function(t){switch(t.label){case 0:return a?[2,a]:[4,c(e)];case 1:if((a=t.sent()).data)return[2,a.data];throw new Error(a.message)}}))}))}},524:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.request=void 0,t.request=function(e){var t=e.method,o=e.credentials,r=e.url,a=e.queryParams,i=void 0===a?{}:a,l=e.body,c=e.headers,u=void 0===c?{}:c;o=o||"same-origin";var s=Object.keys(i).length?r+"?"+n(r,i):r;return fetch(s,{method:t,credentials:o,mode:"cors",headers:u,body:l?JSON.stringify(l):null}).then((function(e){return e.json()}))};var n=function(e,t){var n="";for(var o in t)n+=encodeURIComponent(o)+"="+encodeURIComponent(t[o])+"&";return n.substring(0,n.length-1)}},776:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mojoauthCapIcon=t.mailIcon=void 0,t.mailIcon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 150"><defs><style>.cls-1{fill:#f6f5ff;}.cls-2{fill:#7b39ed;}.cls-3{fill:#5e00cf;}.cls-4{fill:#b48dff;}</style></defs><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><rect class="cls-1" width="150" height="150" rx="30"/><path class="cls-2" d="M75,85.83a15.1,15.1,0,0,1-6.67-1.33v4.67H80v-4A18,18,0,0,1,75,85.83Z"/><path class="cls-3" d="M115,65c0-8.75-17.92-15.83-40-15.83S35,56.25,35,65a2.3,2.3,0,0,0,0,.37,3.54,3.54,0,0,0,0,.46V107.5a6.69,6.69,0,0,0,6.67,6.67h66.66A6.69,6.69,0,0,0,115,107.5V65.83a3.54,3.54,0,0,0,0-.46A2.3,2.3,0,0,0,115,65ZM80,89.17H68.33V84.5A15.1,15.1,0,0,0,75,85.83a18,18,0,0,0,5-.66Z"/><path class="cls-1" d="M108.33,67.38V71L105,72.6l-6.67,3.28L74.73,87.5,51.67,76l-10-5V67.38A4.9,4.9,0,0,1,45,62.75a4.62,4.62,0,0,1,1.55-.25h56.9a4.62,4.62,0,0,1,1.55.25A4.9,4.9,0,0,1,108.33,67.38Z"/><path class="cls-4" d="M93.17,35.83H56.83A11.86,11.86,0,0,0,45,47.67v25L51.67,76,74.73,87.5l23.6-11.62L105,72.6V47.67A11.86,11.86,0,0,0,93.17,35.83Z"/><path class="cls-1" d="M98.33,46.42V75.88L74.73,87.5,51.67,76V46.42a3.93,3.93,0,0,1,3.91-3.92H94.42A3.93,3.93,0,0,1,98.33,46.42Z"/><path class="cls-3" d="M80,85.17v4H68.33V84.5A15.1,15.1,0,0,0,75,85.83,18,18,0,0,0,80,85.17Z"/><path class="cls-3" d="M74.39,48.05a13.5,13.5,0,1,0,13.5,13.5A13.51,13.51,0,0,0,74.39,48.05Zm7,9L72.69,67.41a1.06,1.06,0,0,1-.78.37h0a1,1,0,0,1-.77-.35l-3.74-4.15a1,1,0,0,1,1.52-1.43l0,0,2.94,3.27,7.95-9.48A1,1,0,0,1,81.41,57Z"/></g></g></svg>',t.mojoauthCapIcon='<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 93.72"><defs><style>.cls-11{fill:#fff;}</style></defs><path d="M99.11,74.84a.14.14,0,0,0,0-.09c-1.35-2.34-4.32-4.4-8.86-6.14a3.23,3.23,0,0,0-.57-.23L88.43,68c.37.14.71.29,1.06.43a3.23,3.23,0,0,1,.57.23c4.25,1.77,7.34,3.85,8.85,6.14,0,0,.06.06.06.09a6.13,6.13,0,0,1,.72,1.42A6.07,6.07,0,0,0,99.11,74.84ZM72,92.12a79.05,79.05,0,0,0,18.11-4.68v-.06l-.14.06A78.53,78.53,0,0,1,72,92.12ZM64.74,93c1.23-.12,2.43-.26,3.63-.4-1.17.14-2.4.25-3.63.37ZM54.8,37.55a5.78,5.78,0,0,0-3.31-2.2,5.43,5.43,0,0,0-3.6.31A5.56,5.56,0,0,0,44.77,39a5.86,5.86,0,0,0,0,3.77,5.52,5.52,0,0,0,2.29,2.94.64.64,0,0,1,.25.49c-.05.45-.2.88-.28,1.31-.29,1.09-.57,2.17-.83,3.26S45.66,53,45.4,54s-.54,2.08-.77,3.14c-.14.57,0,.68.57.68h9.94c.6,0,.72-.11.57-.71-.2-1-.45-1.94-.68-2.91-.29-1.18-.6-2.35-.89-3.52-.34-1.4-.65-2.8-1-4.2a.68.68,0,0,1,.29-.88A5.74,5.74,0,0,0,54.8,37.55ZM8.4,69.29A19.5,19.5,0,0,0,2.54,73,21.79,21.79,0,0,1,8.4,69.29Z"/><path d="M99.69,76.26A6.13,6.13,0,0,0,99,74.84s0-.06-.06-.09c-1.51-2.29-4.6-4.37-8.85-6.14a3.23,3.23,0,0,0-.57-.23c-.35-.14-.69-.29-1.06-.43h0c-1.26-.4-2.6-.8-4.06-1.2-2.31-.6-4.8-1.14-7.45-1.63l-.06-.37v-.17c-.34-2-1.23-5.23-2.8-10.66-2.37-8.34-5.63-19.8-8.54-33.46-.69-3.17-.29-5.74,1.22-7.91C70.23,7.38,79.06,6,82.31,5.41a7.51,7.51,0,0,1,1.15-.2c1.83-.4,2.05-1.63,2.05-2.17A2.22,2.22,0,0,0,83.6.86h-.2l-.09,0C74,0,65.14-.76,57.69,1.55,49.14,4.12,43.29,10.29,39.37,21L23.14,64.75v.06l-.28.4c-2.43.45-4.75,1-6.92,1.54-1.94.51-3.68,1.06-5.28,1.63a3.23,3.23,0,0,0-.57.23c-.55.2-1.06.43-1.55.63a.3.3,0,0,0-.14.05A21.79,21.79,0,0,0,2.54,73l0,0a10.17,10.17,0,0,0-1.28,1.69s-.06.06-.06.09A6,6,0,0,0,.4,77.75c0,3.77,3.6,7,10.74,9.57v.52a84.62,84.62,0,0,0,18.15,4.45c1.2.17,2.4.35,3.62.46s2.4.29,3.63.4h.15c4.22.37,8.71.57,13.31.57,5.09,0,10-.23,14.6-.68h.14v0c1.23-.12,2.46-.23,3.63-.37L72,92.12a78.53,78.53,0,0,0,18-4.68l.14-.06v-.46c6.49-2.48,9.75-5.57,9.75-9.17A5.46,5.46,0,0,0,99.69,76.26ZM44.77,39a5.56,5.56,0,0,1,3.12-3.35,5.43,5.43,0,0,1,3.6-.31A5.72,5.72,0,0,1,53.4,45.64a.68.68,0,0,0-.29.88c.38,1.4.69,2.8,1,4.2.29,1.17.6,2.34.89,3.52.23,1,.48,1.94.68,2.91.15.6,0,.71-.57.71H45.2c-.6,0-.71-.11-.57-.68.23-1.06.51-2.12.77-3.14s.51-2.18.8-3.26.54-2.17.83-3.26c.08-.43.23-.86.28-1.31a.64.64,0,0,0-.25-.49,5.52,5.52,0,0,1-2.29-2.94A5.86,5.86,0,0,1,44.77,39Z"/><path class="cls-11" d="M55.71,57.15c.15.6,0,.71-.57.71H45.2c-.6,0-.71-.11-.57-.68.23-1.06.51-2.12.77-3.14s.51-2.18.8-3.26.54-2.17.83-3.26c.08-.43.23-.86.28-1.31a.64.64,0,0,0-.25-.49,5.52,5.52,0,0,1-2.29-2.94,5.86,5.86,0,0,1,0-3.77,5.56,5.56,0,0,1,3.12-3.35,5.43,5.43,0,0,1,3.6-.31A5.72,5.72,0,0,1,53.4,45.64a.68.68,0,0,0-.29.88c.38,1.4.69,2.8,1,4.2.29,1.17.6,2.34.89,3.52C55.26,55.21,55.51,56.18,55.71,57.15Z"/><path d="M10.09,68.61c-.55.2-1.06.43-1.55.63.46-.23.92-.43,1.4-.63a3.23,3.23,0,0,1,.57-.23A66.87,66.87,0,0,1,23,64.81v0c.06,0,.09,0,.14,0v.06l-.28.4c-2.43.45-4.75,1-6.92,1.54-1.94.51-3.68,1.06-5.28,1.63A3.23,3.23,0,0,0,10.09,68.61Z"/><path d="M11.14,87.84a84.62,84.62,0,0,0,18.15,4.45A83.86,83.86,0,0,1,11,87.84C4.11,85.15,0,81.72,0,78a5.58,5.58,0,0,1,1-3.17s0-.06.06-.09a9.8,9.8,0,0,1,1.42-1.69,10.17,10.17,0,0,0-1.28,1.69s-.06.06-.06.09A6,6,0,0,0,.4,77.75c0,3.77,3.6,7,10.74,9.57Z"/><path d="M76.83,64.75A71.21,71.21,0,0,1,88.4,68c-1.26-.4-2.6-.8-4.06-1.2-2.31-.6-4.8-1.14-7.45-1.63Z"/><path d="M100,78c0,3.51-3.66,6.74-9.86,9.37v-.46c6.49-2.48,9.75-5.57,9.75-9.17a5.46,5.46,0,0,0-.2-1.49A5.29,5.29,0,0,1,100,78Z"/></svg>'},500:(e,t,n)=>{var o=n(831),r=n(83),a=n(200),i=n(569),l=n(627);t.default=function(e){e?(this.signInWithMagicLink=o.signInWithMagicLink.bind({apikey:e}),this.signIn=l.signIn.bind({apikey:e}),this.signInWithEmailOTP=r.signInWithEmailOTP.bind({apikey:e}),this.verifyToken=a.verifyToken.bind({apikey:e}),this.invalidateToken=i.invalidateToken.bind({apikey:e})):console.error("apikey is required. Please pass valid apikey")}},83:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function l(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((o=o.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.signInWithEmailOTP=void 0;var a=n(364),i=n(12),l=n(25),c=n(258),u=n(192),s=n(66),d=n(982),p=n(546);n(545),t.signInWithEmailOTP=function(){return o(this,void 0,void 0,(function(){var e,t,n,f,h,m,g,v,b,A,y;return r(this,(function(C){switch(C.label){case 0:e=this.apikey,this.callback,C.label=1;case 1:return C.trys.push([1,3,,4]),[4,l.getProjectConfig(e)];case 2:return t=C.sent(),[3,4];case 3:return n=C.sent(),console.error(n.message),[2];case 4:return f=c.Defaults.rootContainer,h=c.Defaults.loginFormContainer,(m=document.getElementById(f))?(m.style.fontFamily=t.font.family,t.font.url&&p.addStyles(t.font.url),(g=document.createElement("div")).id=h,g.classList.add("mojoauth--card","mojoauth--shadow","mojoauth--v-center"),(v=document.createElement("div")).classList.add("logo"),v.innerHTML="<img src="+t.brand_logo+" />",g.appendChild(v),(b=document.createElement("div")).classList.add("title"),b.textContent=t.login.heading,g.appendChild(b),(A=document.createElement("div")).classList.add("subtitle"),A.textContent=t.login.sub_heading,g.appendChild(A),y=i.createForm(t,c.Defaults.loginFormId),g.appendChild(y),m.appendChild(g),g.appendChild(u.createBrandFooter()),[2,new Promise((function(t,n){var i=this,l=function(e){t(e)};y.onsubmit=function(t){return o(i,void 0,void 0,(function(){var n,o;return r(this,(function(r){switch(r.label){case 0:return t.preventDefault(),s.createLoader(),n=y.email.value,[4,a.postOTPEmail(e,n)];case 1:return(o=r.sent()).state_id&&d.createOTPVerificationPage({type:"email",state_id:o.state_id,value:n,callback:l,apikey:e}),[2]}}))}))}}))]):(console.error("HTML container not in the DOM"),[2])}}))}))}},831:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function l(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((o=o.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.signInWithMagicLink=void 0;var a=n(486),i=n(371),l=n(66);n(545),t.signInWithMagicLink=function(e,t,n,c){return o(this,void 0,Promise,(function(){var n;return r(this,(function(o){return n=new Promise((function(n,o){l.createLoader(),c.state_id&&(i.createPostMagicLinkLoginPage(t),a.ping(e,c.state_id,(function(e){n(e)})))})),console.log("returning magiclink promise"),console.log(n),[2,n]}))}))}},627:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function l(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((o=o.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.signIn=void 0;var a=n(4),i=n(695),l=n(258),c=n(546),u=n(25),s=n(831),d=n(192),p=n(12),f=n(66),h=n(195);t.signIn=function(){return o(this,void 0,Promise,(function(){var e,t,n,m,g,v,b,A,y,C,w,B;return r(this,(function(x){switch(x.label){case 0:e=this.apikey,x.label=1;case 1:return x.trys.push([1,3,,4]),[4,u.getProjectConfig(e)];case 2:return t=x.sent(),[3,4];case 3:return n=x.sent(),console.error(n.message),[2];case 4:return m=l.Defaults.rootContainer,g=l.Defaults.loginFormContainer,(v=document.getElementById(m))?(v.style.fontFamily=t.font.family,t.font.url&&c.addStyles(t.font.url),(b=document.createElement("div")).id=g,b.classList.add("mojoauth--card","mojoauth--shadow","mojoauth--v-center"),(A=document.createElement("div")).classList.add("logo"),A.innerHTML="<img src="+t.brand_logo+" />",b.appendChild(A),(y=document.createElement("div")).classList.add("title"),y.textContent=t.login.heading,b.appendChild(y),(C=document.createElement("div")).classList.add("subtitle"),C.textContent=t.login.sub_heading,b.appendChild(C),w=p.createForm(t,l.Defaults.loginFormId),b.appendChild(w),v.appendChild(b),b.appendChild(d.createBrandFooter()),B=new Promise((function(n,l){var c=this;w.onsubmit=function(l){return o(c,void 0,void 0,(function(){var o,c,u;return r(this,(function(r){switch(r.label){case 0:return l.preventDefault(),f.createLoader(),o=w.email.value,[4,i.webauthnRegistered(e,o)];case 1:return(c=r.sent()).first_login&&!c.webauthn_registered?[3,2]:(n(h.webauthn(e,o,c,t)),[3,4]);case 2:return[4,a.postEmail(e,o)];case 3:u=r.sent(),s.signInWithMagicLink(e,o,c,u).then((function(r){h.webauthn(e,o,c,t).then((function(e){n(e)})).catch((function(e){return n(r)}))})),r.label=4;case 4:return[3,7];case 5:return[4,a.postEmail(e,o)];case 6:u=r.sent(),n(s.signInWithMagicLink(e,o,c,u)),r.label=7;case 7:return[2]}}))}))}})),console.log("returning signin promise"),console.log(B),[2,B]):(console.error("HTML container not in the DOM"),[2])}}))}))}},192:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createBrandFooter=void 0;var o=n(258),r=n(776);t.createBrandFooter=function(){var e=document.createElement("div");return e.id=o.Defaults.brandFooterId,e.className="mojoauth-passwordless-footer",e.innerHTML='\n    <p>\n\t\t\t<span class="footer-icon">'+r.mojoauthCapIcon+'</span>\n      Secured by&nbsp;<a href="https://mojoauth.com" target="_blank">MojoAuth</a>\n    </p>\n  ',e}},429:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createButton=void 0,t.createButton=function(e,t,n,o){e.login.input;var r=e.btn_color,a=document.createElement("form");a.id=t;var i=document.createElement("div");i.classList.add("button-group");var l=document.createElement("input");return l.id="skip",l.type="submit",l.name="submit",l.value=n,l.style.backgroundColor=r,i.appendChild(l),a.appendChild(i),a}},12:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createForm=void 0,t.createForm=function(e,t,n){var o=e.login,r=o.button,a=o.input,i=e.btn_color,l=document.createElement("form");l.id=t;var c=document.createElement("div");c.classList.add("form-group");var u=document.createElement("input");u.type="email",u.required=!0,u.name="email",u.id="mojoauth-passwordless-email",u.placeholder=a.placeholder,c.appendChild(u),l.appendChild(c);var s=document.createElement("div");s.classList.add("form-group");var d=document.createElement("input");d.type="submit",d.value=r.text,d.style.backgroundColor=i,s.appendChild(d),l.appendChild(s);var p=document.createElement("p");return p.innerText="By clicking login I agree with terms of use and privacy policy",l.appendChild(p),l}},66:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLoader=void 0;var o=n(258);t.createLoader=function(){var e=document.getElementById(o.Defaults.loginFormContainer),t=document.getElementById(o.Defaults.loginFormId),n=document.getElementById(o.Defaults.brandFooterId);if(e){t&&e.removeChild(t);var r=document.createElement("div");r.classList.add("mojoauth--loader"),e.insertBefore(r,n)}}},982:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function l(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((o=o.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.createOTPVerificationPage=void 0;var a=n(258),i=n(192),l=n(901);n(545),t.createOTPVerificationPage=function(e){var t=this,n=(e.type,e.state_id),c=e.value,u=e.apikey,s=e.callback,d=a.Defaults.rootContainer,p=a.Defaults.loginFormContainer,f=a.Defaults.otpVerificationId,h=document.getElementById(d);if(h){var m=document.getElementById(p);m&&h.removeChild(m);var g=document.createElement("div");g.id=f,g.classList.add("mojoauth--card","mojoauth--shadow","text-center","mojoauth--v-center"),g.innerHTML="<p>Enter OTP sent to your email "+c+"</p>";var v=function(e){for(var t=document.createElement("div"),n=function(e){var n=document.createElement("div");n.className="form-group";var o=document.createElement("input");o.type="text",o.maxLength=1,o.className="pin_input",o.id="pin"+e,o.inputMode="numeric";var r="pin"+(e+1),a="pin"+(e-1);o.addEventListener("keyup",(function(t){5===e&&(r=null),0===e&&(a=null),function(e,t,n){var o=new RegExp(/^\d+$/);if(o.test(e.target.value)||(e.target.value=""),t&&("Backspace"===e.code||"Delete"===e.code))return e.target.blur(),void document.getElementById(t).focus();n&&o.test(e.target.value)&&document.getElementById(n).focus()}(t,a,r)})),n.appendChild(o),t.appendChild(n)},o=0;o<6;o++)n(o);return t}();v.className="mojoauth-otp-verification",g.appendChild(v);var b=document.createElement("input");b.type="button",b.value="Submit",b.id="otp-submit-button",g.appendChild(b),g.appendChild(i.createBrandFooter()),h.appendChild(g),document.getElementById("otp-submit-button").addEventListener("click",(function(){return o(t,void 0,void 0,(function(){var e,t,o,a,i,c;return r(this,(function(r){switch(r.label){case 0:return e=document.querySelector(".mojoauth-otp-verification"),t=e.querySelectorAll("input"),o="",t.forEach((function(e){return o+=e.value})),[4,l.verifyEmailOTP(u,n,o)];case 1:return(a=r.sent()).error_code?((i=document.createElement("p")).className="error",i.textContent="Please enter valid code",(c=document.querySelector(".mojoauth-otp-verification")).parentNode.insertBefore(i,c.nextSibling),[2]):(s(a),[2])}}))}))}))}else console.error("HTML container not in the DOM")}},371:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createPostMagicLinkLoginPage=void 0;var o=n(258),r=n(776),a=n(192);n(545),t.createPostMagicLinkLoginPage=function(e){var t=o.Defaults.rootContainer,n=o.Defaults.loginFormContainer,i=o.Defaults.postLoginContainerId,l=document.getElementById(t);if(l){var c=document.getElementById(n);c&&l.removeChild(c);var u=document.createElement("div");u.id=i,u.classList.add("mojoauth--card","mojoauth--shadow","text-center","mojoauth--v-center"),u.innerHTML='\n\t<p class="warning bold" >Do not close this tab!</p>\n\t<p class="warning">Upon clicking the magic link received in your email, you will be logged in here.</p>\n\t\t<div class="logo">\n\t\t\t'+r.mailIcon+'\n\t\t</div>\n\t\t<div class="title">Check your email</div>\n\t\t<div class="subtitle">\n\t\t\tA magic link has been sent to your email address '+e+".\n\t\t</div>\n  ",u.appendChild(a.createBrandFooter()),l.appendChild(u)}else console.error("HTML container not in the DOM")}},195:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function l(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((o=o.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.webauthn=void 0;var a=n(236),i=n(276),l=n(258),c=n(546),u=n(192),s=n(66),d=n(429),p=n(831),f=n(4);t.webauthn=function e(t,n,h,m){return o(this,void 0,Promise,(function(){var g,v,b,A,y,C,w,B,x,j,k,_,E,P,I;return r(this,(function(M){return g=l.Defaults.rootContainer,v=l.Defaults.loginFormContainer,b=l.Defaults.postLoginContainerId,(A=document.getElementById(g))?(A.style.fontFamily=m.font.family,m.font.url&&c.addStyles(m.font.url),(y=document.getElementById(v))&&A.removeChild(y),(C=document.getElementById(b))&&A.removeChild(C),(w=document.createElement("div")).id=v,w.classList.add("mojoauth--card","mojoauth--shadow","mojoauth--v-center"),(B=document.createElement("div")).classList.add("logo"),B.innerHTML="<img src="+m.brand_logo+" />",w.appendChild(B),(x=document.createElement("div")).classList.add("title"),x.textContent=m.login.heading,w.appendChild(x),(j=document.createElement("div")).classList.add("subtitle"),j.textContent=m.login.sub_heading,w.appendChild(j),k="skip",_=d.createButton(m,l.Defaults.loginFormId,k),k="register Webauthn",E=d.createButton(m,l.Defaults.loginFormId,k),(P=document.createElement("p")).innerText="By clicking login I agree with terms of use and privacy policy",w.appendChild(E),w.appendChild(_),w.appendChild(P),A.appendChild(w),w.appendChild(u.createBrandFooter()),I=new Promise((function(l,c){var u=this;h.first_login?_.onsubmit=function(e){return o(u,void 0,void 0,(function(){return r(this,(function(t){return e.preventDefault(),console.log("skipped"),c(),[2]}))}))}:_.onsubmit=function(e){return o(u,void 0,void 0,(function(){var o;return r(this,(function(r){switch(r.label){case 0:return e.preventDefault(),s.createLoader(),console.log("skipped"),[4,f.postEmail(t,n)];case 1:return o=r.sent(),l(p.signInWithMagicLink(t,n,h,o)),[2]}}))}))},E.onsubmit=function(c){return o(u,void 0,void 0,(function(){return r(this,(function(o){return c.preventDefault(),console.log("not skipped"),!1===h.webauthn_registered?l(a.registerCredential(t,n).catch((function(o){return alert(o),e(t,n,h,m)}))):!0===h.webauthn_registered&&l(i.authenticate(t,n)),[2]}))}))}})),console.log("returning webauthn promise"),console.log(I),[2,I]):(console.error("HTML container not in the DOM"),[2])}))}))}},276:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function l(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((o=o.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.authenticate=void 0;var a=n(255),i=n(438);t.authenticate=function(e,t){return o(void 0,void 0,void 0,(function(){function n(e){return Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)}))}function o(e){return btoa(String.fromCharCode.apply(null,new Uint8Array(e))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var l,c,u,s,d,p,f,h,m,g;return r(this,(function(r){switch(r.label){case 0:return[4,a.loginBegin(e,t)];case 1:if(l=r.sent(),console.log(l),0===l.publicKey.allowCredentials.length)return console.info("No registered credentials found."),[2,Promise.resolve(null)];for(l.publicKey.challenge=n(l.publicKey.challenge),c=0,u=l.publicKey.allowCredentials;c<u.length;c++)(s=u[c]).id=n(s.id);return[4,navigator.credentials.get({publicKey:l.publicKey})];case 2:return d=r.sent(),(p={id:null,rawId:null,type:null,response:null}).id=d.id,p.type=d.type,p.rawId=o(d.rawId),d.response&&(f=o(d.response.clientDataJSON),h=o(d.response.authenticatorData),m=o(d.response.signature),g=o(d.response.userHandle),p.response={clientDataJSON:f,authenticatorData:h,signature:m,userHandle:g}),[4,i.loginComplete(e,t,p.id,p.rawId,p.type,p.response.authenticatorData,p.response.clientDataJSON,p.response.signature,p.response.userHandle)];case 3:return[2,r.sent()]}}))}))}},236:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function l(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((o=o.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.registerCredential=void 0;var a=n(460),i=n(447);t.registerCredential=function(e,t){return o(void 0,void 0,void 0,(function(){function n(e){return Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)}))}function o(e){return btoa(String.fromCharCode.apply(null,new Uint8Array(e))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var l,c,u,s,d,p,f,h,m;return r(this,(function(r){switch(r.label){case 0:return[4,a.registerationBegin(e,t)];case 1:if((l=r.sent()).publicKey.user.id=n(l.publicKey.user.id),l.publicKey.challenge=n(l.publicKey.challenge),l.publicKey.excludeCredentials)for(c=0,u=l.publicKey.excludeCredentials;c<u.length;c++)(s=u[c]).id=n(s.id);return[4,navigator.credentials.create({publicKey:l.publicKey})];case 2:return d=r.sent(),console.log(d),(p={id:null,rawId:null,type:null,response:null}).id=d.id,p.rawId=o(d.rawId),p.type=d.type,d.response&&(f=o(d.response.clientDataJSON),h=o(d.response.attestationObject),p.response={clientDataJSON:f,attestationObject:h}),console.log(p),localStorage.setItem("credId",p.id),console.log(JSON.stringify(p)),m=new Promise((function(n,o){n(i.registerationComplete(e,t,p.id,p.rawId,p.type,p.response.attestationObject,p.response.clientDataJSON))})),console.log("returning registeration promise"),console.log(m),[2,m]}}))}))}}},t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={id:o,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.exports}return n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(500)})().default}));
//# sourceMappingURL=mojoauth.min.js.map