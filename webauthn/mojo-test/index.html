<!DOCTYPE html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- <script src="./mojoauth.min.js"></script> -->
    <script src="
    https://cdn.mojoauth.com/js/mojoauth.min.js"
		>
    </script>
    <!-- <script src="
    https://dev-cdn.mojoauth.com/js/mojoauth.min.js"
		>
    </script> -->
</head>

<body>
    
    <div id="mojoauth-passwordless-form"></div>
    
    <script>
        let test='Email OTP'
        let source;
         switch(test){
    case 'Magic Link' : source= [ {type:'email',feature:'magiclink'}]
                            break;
    case 'Email OTP' : source= [ {type:'email',feature:'otp'}]
                            break;
    case 'Phone OTP' : source= [ {type:'phone',feature:'otp'}]
                            break;
    case 'Magic Link and Phone OTP' : source= [ {type:'email',feature:'magiclink'}, {type:'phone',feature:'otp'}]
                            break;
    case 'Email OTP and Phone OTP'  : source= [ {type:'email',feature:'otp'}, {type:'phone',feature:'otp'}]
                            break;
}
        // Enter you API Key
        config={
            language: "en", 
            redirect_url: "https://creators-internet.webflow.io/post",
            source: source= [ {type:'email',feature:'magiclink'}],
        }

//         function registerWebAuthnStart(accessToken) {
//    mojoauth.enableWebauthn(accessToken).then(response => {
//        console.log(response);
//        console.log(redirectUrl);
//    })
//    .catch(e => {
//        console.log(e);
//    });
// }

if (window.location.search) {
			const mojoauth = new MojoAuth("71736bb0-8a9b-4f4d-8503-62355cfb030b");
			mojoauth.signInWithStateID().then((response) => {
				console.log(response)
				localStorage.setItem("userTokentest1", response.oauth.access_token)
			});
		} else {
        const mojoauth = new MojoAuth( "71736bb0-8a9b-4f4d-8503-62355cfb030b", config);
        // Use signInWithEmailOTP() for authentication using Email OTP
        mojoauth.signIn().then( response => {
            console.log("reached here")
            localStorage.setItem("userTokentest2", response.oauth.access_token)
            //          mojoauth.enableWebauthn(response.oauth.access_token)
            
            console.log( response )
        } );
    }
        // mojoauth.enableWebauthn().then(response=>console.log(response))
    </script>
<!-- <script type="text/javascript">app_id="62c69be5fda2380020ca0217";distribution_key="dist_2";</script><script type="text/javascript" src="https://loader.knack.com/62c69be5fda2380020ca0217/dist_2/knack.js"></script><div id="knack-dist_2">Loading...</div></body> -->

</html>