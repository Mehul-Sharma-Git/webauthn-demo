<!DOCTYPE html>

<head>
    <script src="https://unpkg.com/cotter@0.3.32/dist/cotter.min.js" type="text/javascript"></script>
    <script src="https://unpkg.com/cotter@0.3.10-beta.5/dist/cotter.min.js" type="text/javascript"></script>
</head>

<body>
    <h2>MojoAuth Demo </h2>
    <div id="cotter-form-container" style="width: 300px; height: 300px;"></div>
    <script>
        console.log(localStorage)
        var cotter = new Cotter( "40376f65-76c2-4806-8406-33610d9100d6" ); // ðŸ‘ˆ Specify your API KEY ID here

        cotter
            .signInWithWebAuthnOrLink() // or signInWithWebAuthnOrOTP()
            .showEmailForm()            // or showPhoneForm()
            .then( payload => console.log( payload ) )
            .catch( err => console.log( err ) );
        Cotter.isWebAuthnAvailable().then( available =>
                setWebauthnAvailable( available )
            );
        var user = cotter.getLoggedInUser() // Get the logged-in user
        
        if (user) { // If there's a logged-in user
        user
        .registerWebAuthn() // register WebAuthn
        .then(resp => console.log(resp))
        .catch(err => console.log(err))
        }
    </script>
</body>

</html>